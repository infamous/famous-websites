<!DOCTYPE html>
<html class="no-js" lang="en">

<!-- Mirrored from famous.org/learn/components.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 31 May 2017 02:13:48 GMT -->
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta content="Famous is a platform for making beautiful experiences on the internet." name="description">
    <meta content="Famous Industries" name="author">
    <script src="../../ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    
    
    
    
    <title>Components | Guides | Famous Platform</title>
     <script src="assets/scripts/toc.js"></script>
    <link href="assets/styles/main.css" rel="stylesheet">
    <link href="../../fonts.googleapis.com/cssf0be.css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
  </head>
  <body>

  <nav class="nav-main cf">
      <a class="nav-logo" href="../index.html">
        <object data="assets/images/famous-logo-text.svg" type="image/svg+xml"></object>
      </a>
      <label class="reveal-nav-btn" for="reveal-nav">Menu</label>
      <input type="checkbox" class="reveal-nav-input" id="reveal-nav">
      <div class="nav-main-list">
          <div class="list-left">
              <a class="main-nav-link" href="../index.html">Engine</a>
              <a class="main-nav-link" href="../framework">Framework</a>
          </div>
          <div class="list-right">
              <a class="main-nav-link" href="../learn">Learn</a>
              <a class="main-nav-link" href="../docs/index.html">API Docs</a>
              <a class="main-nav-link" href="../support">Support</a>
              <a class="main-nav-link" onclick="trackOutboundLink('https://github.com/Famous/engine'); return false;" href="https://github.com/Famous/engine">Github</a>
              <a class="main-nav-link" href="../../blog.famous.org/index.html">Blog</a>
          </div>
      </div>
      <h1>Learn: Famous Engine Guides</h1>
  </nav>

  <div class="container">

      <div class="sidebar">
          
            
            <ul>
  
    <li>
        
          
            <span class='parent'>Overview</span>
          
        
          
          <ul>
  
    <li>
        
          
            
            
              
                <a href="hello-famous.html"><span class="linked">Hello Famous</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="download-and-install.html"><span class="linked">Download & install</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="browser-and-device-support.html"><span class="linked">Browser & device support</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="contributing.html"><span class="linked">Contributing</span></a>
              
            
          
        
        </li>
       
    
  
</ul>

        
    
  
    <li>
        
          
            <span class='parent'>Essentials</span>
          
        
          
          <ul>
  
    <li>
        
          
            
            
              
                <a href="boilerplate.html"><span class="linked">Boilerplate</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="scene-graph.html"><span class="linked">Scene graph</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="components.html" class="active"><span>Components</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="displaying-content.html"><span class="linked">HTML Content</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="styling-content.html"><span class="linked">HTML Styling</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="positioning.html"><span class="linked">Positioning</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="sizing.html"><span class="linked">Sizing</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="user-input.html"><span class="linked">User input</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="gesture-handler.html"><span class="linked">Gesture Handler</span></a>
              
            
          
        
        </li>
       
    
  
</ul>

        
    
  
    <li>
        
          
            <span class='parent'>Intermediate</span>
          
        
          
          <ul>
  
    <li>
        
          
            <span class='parent'>Animation</span>
          
        
          
          <ul>
  
    <li>
        
          
            
            
              
                <a href="transitionables.html"><span class="linked">Transitionables</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="easing-curves.html"><span class="linked">Easing curves</span></a>
              
            
          
        
        </li>
       
    
  
</ul>

        
    
  
    <li>
        
          
            
            
              
                <a href="program-events.html"><span class="linked">Program events</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="physics.html"><span class="linked">Physics</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="webgl-content.html"><span class="linked">WebGL Content</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="webgl-styling.html"><span class="linked">WebGL Styling</span></a>
              
            
          
        
        </li>
       
    
  
</ul>

        
    
  
    <li>
        
          
          <span class="parent">Tutorials</span>
<ul>
  
  
  
  <li>
    
    <span class="lesson-toggle">Carousel</span>
    <ul class="lesson-sections">
    
    
    <li>
      
      
        
          <a href="Carousel/index.html" class="linked">Welcome</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Carousel/GettingStarted.html" class="linked">Getting Started</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Carousel/HelloFamous.html" class="linked">Hello Famous</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Carousel/Architecture.html" class="linked">Architecture</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Carousel/Layout.html" class="linked">Layout</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Carousel/OrganizingCode.html" class="linked">Organizing Code</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Carousel/Arrows.html" class="linked">Arrows</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Carousel/Dots.html" class="linked">Dots</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Carousel/Pager.html" class="linked">Pager</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Carousel/AnimatingWithPhysics.html" class="linked">Animating with Physics</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Carousel/UserInteraction.html" class="linked">User Interaction</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Carousel/Finish.html" class="linked">Finish</a>
        
      
    </li>
    
    </ul>
  </li>
  
  
  
  <li>
    
    <span class="lesson-toggle">Twitterus</span>
    <ul class="lesson-sections">
    
    
    <li>
      
      
        
          <a href="Twitterus/index.html" class="linked">Welcome</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Twitterus/GettingStarted.html" class="linked">Getting Started</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Twitterus/CreatingAnApp.html" class="linked">Creating an App</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Twitterus/Architecture.html" class="linked">Architecture</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Twitterus/Layout.html" class="linked">Layout</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Twitterus/Header.html" class="linked">Header</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Twitterus/Footer.html" class="linked">Footer</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Twitterus/Swapper.html" class="linked">Swapper</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Twitterus/UserInteraction.html" class="linked">User Interaction</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Twitterus/Animation.html" class="linked">Animation</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="Twitterus/Finish.html" class="linked">Finish</a>
        
      
    </li>
    
    </ul>
  </li>
  
  
  
  <li>
    
    <span class="lesson-toggle">Mixed Mode</span>
    <ul class="lesson-sections">
    
    
    <li>
      
      
        
          <a href="MixedMode/index.html" class="linked">Intro</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="MixedMode/UsingMeshes.html" class="linked">Using Meshes</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="MixedMode/LightsCameraAction.html" class="linked">Lights, Camera, Action</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="MixedMode/MixingModes.html" class="linked">Mixing Modes</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="MixedMode/OrganizingOurScene.html" class="linked">Organizing Our Scene</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="MixedMode/ImportingTheModel.html" class="linked">Importing The Model</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="MixedMode/TheIframeScreen.html" class="linked">The Iframe Screen</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="MixedMode/DetailsDetails.html" class="linked">Details Details</a>
        
      
    </li>
    
    <li>
      
      
        
          <a href="MixedMode/Finish.html" class="linked">Finish</a>
        
      
    </li>
    
    </ul>
  </li>
  
</ul>
          
  
    <li>
        
          
            <span class='parent'>Help</span>
          
        
          
          <ul>
  
    <li>
        
          
            
            
              
                <a href="pitfalls.html"><span class="linked">Pitfalls</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="faq.html"><span class="linked">FAQ</span></a>
              
            
          
        
        </li>
       
    
  
</ul>

        
    
  
    <li>
        
          
            
            
              
                <a href="glossary.html"><span class="linked">Glossary</span></a>
              
            
          
        
        </li>
       
    
  
    <li>
        
          
            
            
              
                <a href="resources.html"><span class="linked">Resources</span></a>
              
            
          
        
        </li>
       
    
  
</ul>

      </div>

      <div class="content">
          <h1>Components</h1>
          <p><span class="intro-graf">
In the <a href="scene-graph.html">scene graph section</a>, we learned that elements in our application are represented structurally by <em>nodes</em>. Since nodes themselves aren&#39;t visible, we must decorate them with visual facets called <em>components</em>.
</span></p>

<p><em>Note: These concepts become more concrete in the <a href="displaying-content.html">displaying content</a> guide.</em></p>

<h2>What is a component?</h2>

<p>Components are encapsulated elements of behavior. They allow common functionality to be abstracted out of nodes, and extend nodes such that they are capable of executing the specific logic of your application. They can describe where an element is located on screen, how big it is, what content it has, and the style information it is associated with. All of the following are default components in Famous:</p>

<ul>
<li><code>DOMElement</code> - for displaying HTML-formatted content</li>
<li><code>Mesh</code> - for displaying a WebGL mesh</li>
<li><code>Align</code> - anchor point in the element&#39;s context</li>
<li><code>MountPoint</code> - anchor point within the element</li>
<li><code>Camera</code> - perspective on the element</li>
<li><code>Opacity</code> - transparency of the element</li>
<li><code>Origin</code> - the point about which transforms act</li>
<li><code>Rotation</code> - the element&#39;s rotation transform in space</li>
<li><code>Scale</code> - the element&#39;s scale transform</li>
<li><code>Size</code> - the element&#39;s home size in pixels</li>
</ul>

<h2>How to use components</h2>

<p>Components are attached to the scene graph via nodes. Here&#39;s what this looks like in code:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">var scene = new Famous.createScene(&#39;body&#39;);
var rootNode = scene.addChild(); 
// set the size so the DOM element will be visible
rootNode.setSizeMode(&#39;absolute&#39;, &#39;absolute&#39;, &#39;absolute&#39;)
        .setAbsoluteSize(250, 250)

// add DOM element component with content
var DOMElement = require(&#39;famous/dom-renderables/DOMElement&#39;);
var element = new DOMElement(rootNode, {
      content: &#39;Hello Famous&#39;
  });

// add an align component so we can animate align
// Use &#39;rootNode.setAlign(0.5,0.5)&#39; for static alignment
var Align = require(&#39;famous/components/Align&#39;);
var alignComponent = new Align(rootNode);

// move node to center over 1000ms period
alignComponent.set(0.5,0.5, {duration:1000})
</code></pre></div>
<p>The node is passed to the component&#39;s constructor; the returned component instance exposes an API we can use to modify that component. Here, we add a <code>DOMElement</code> component with content and an Align component so we can animate the node as it moves to the center of the screen.</p>

<p>While we can add Position, Origin, Align, MountPoint, Rotation, and Scale components to nodes, it&#39;s recommended that you use the node&#39;s internal methods for setting static states (see <a href="positioning.html">positioning</a>). Attach components for frame-by-frame state transitions and avoid using the Size component whenever possible. </p>

<p><span class="art-insert" style="max-width:507px;max-height:352px">
<img src="assets/images/node-components.png" alt="components">
</span></p>

<p>Nodes may have zero or more components. Nodes without components might be used purely for grouping, for example. It&#39;s up to the developer to decide which components are appropriate to attach to which nodes in the scene graph.</p>

<h3>Custom Components</h3>

<p>Writing custom components is one of the best ways to program in Famous. Components have the ability to respond to events and to schedule updates on the frame. To demonstrate, we will create a custom animation component.</p>

<p>A simple component can just be represented as an object literal. Here&#39;s an example:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">node.addComponent({
    onMount: function (node) {
        console.log(&#39;mounted at: &#39; + node.getLocation());
    },
    onTransformChange: function () {
        console.log(&#39;transform changed!&#39;);
    }
});
</code></pre></div>
<p>This component will log the phrase &#39;mounted at: x&#39;, where x is the node&#39;s path in the scene graph, to the console every time it is added to the scene graph and log &#39;transform changed!&#39; every time the node&#39;s transform changes.</p>

<p>Let&#39;s now make a component that logs the time every frame:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">node.addComponent({
    id: null,
    node: null,
    onMount: function (node) {
        this.id = node.addComponent(this);
        node.requestUpdate(this.id);
        this.node = node;
    },
    onUpdate: function (time) {
        console.log(time);
        this.node.requestUpdateOnNextTick(this.id);
    }
});
</code></pre></div>
<p>This demonstrates an important concept in Famous: requesting updates. In order to execute logic on the frame, you first must request an update. In order to request updates your component will need to register itself with a node. So <code>onMount</code> we call node.addComponent to receive our id from the node and then call <code>node.requestUpdate</code> with the id that the node returned.</p>

<p>This schedules the components <code>onUpdate</code> method to be called on the next frame. In order to ensure that the <code>onUpdate</code> method is called every frame, we then call <code>node.requestUpdateOnNextTick</code> to schedule an update for the next frame. This will repeat forever, constantly logging the current time.</p>

<h2>Components and Transitionables</h2>

<p>Transitionables provide a method to get a value over time. Here is a simple component class which drives an animation.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">// A component that will animate a node&#39;s position in x.
function Animation (node) {
    // store a reference to the node
    this.node = node;
    // get an id from the node so that we can update
    this.id = node.addComponent(this);
    // create a new transitionable to drive the animation
    this.xPosition = new Transitionable(100);
}

Animation.prototype.start = function start () {
    // request an update to start the animation
    this.node.requestUpdate(this.id);
    // begin driving the animation
    this.xPosition.from(100).to(1000, {duration: 1000});
};

Animation.prototype.onUpdate = function onUpdate () {
    // while the transitionable is still transitioning
    // keep requesting updates
    if (this.xPosition.isActive()) {
        // set the position of the component&#39;s node
        // every frame to the value of the transitionable
        this.node.setPosition(this.xPosition.get());
        this.node.requestUpdateOnNextTick(this.id);
    }
};

var animation = new Animation(node);

animation.start();
</code></pre></div>
<p>This component will animate the position along the x axis of this node from 100px to 1000px over a second whenever the components <code>start</code> method is called. The way that this behavior is abstracted from the node and the application shows the power of components. By creating custom components a developer can create a behavior that can be mixed into any node.</p>

<p>Next up, let&#39;s <a href="displaying-content.html">put this into practice</a>.</p>

      </div>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <div class="next-prev-container">
          
            <a class="previous" rel="prev" href="boilerplate.html" title="Boilerplate">Boilerplate</a>
          
          <div class="separator"></div>
          
            <a class="next" rel="next" href="displaying-content.html" title="Displaying content">Displaying content</a>
          
      </div>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      

  </div>

  <footer class="site-footer">
      <nav class="nav-footer">
          <span>&copy; Famous Industries, Inc. 2015</span>
          <a href="../terms.html">Terms</a>
          <a href="../privacy-policy.html">Privacy</a>
          <a href="https://jobs.lever.co/famo.us">Jobs</a>
      </nav>
      <div class="subscribe">
          <form action="http://famous.us5.list-manage.com/subscribe/post?u=4656ba2b0a364690c8530bc1e&amp;amp;id=fe5c0dd6d4" method="POST" target="_blank">
              <input type="email" name="EMAIL" placeholder="Email Address"><button>Get Updates</button>
          </form>
      </div>
  </footer>

  <script src="../../cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js" type="text/javascript"></script>
  <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63145313-1', 'auto');
  ga('send', 'pageview');</script>
  <script>
      var trackOutboundLink = function(url) {
         ga('send', 'event', 'outbound', 'click', url, {'hitCallback':
           function () {
           document.location = url;
           }
         });
      }
  </script>

  </body>

<!-- Mirrored from famous.org/learn/components.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 31 May 2017 02:13:48 GMT -->
</html>
